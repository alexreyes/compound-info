{"version":3,"sources":["components/optionRow.js","components/buttons/index.js","utils/index.js","constants.js","components/multilineChart.js","components/buttons/coinButton.js","components/coinRow.js","components/chartContainer.js","config.js","store/index.js","app.js","theme.js","index.js"],"names":["OptionRow","styled","div","props","justify","OptionButton","button","theme","border","radius","thickness","color","border1","active","active1","bg1","secondary1","fontSize","subheading","formatDate","date","withTime","formattedDate","getMonth","getDate","toLocaleTimeString","hour","minute","formatPercent","percent","includeUnit","toFixed","toString","COINS","name","cAddress","TIME_SELECTORS","days","URLS","cursorConfig","stroke","strokeWidth","strokeDasharray","activeDotConfig","r","StyledTooltip","toolTipWidth","body","translationX","CustomTooltip","coordinate","viewBox","setHoverDate","showTime","payload","hoverDate","blockTime","useEffect","Date","rightX","x","maxX","width","left","CustomXTick","y","value","textAnchor","MultilineChart","data","selectedCoinsAndColors","lines","map","coin","i","Line","type","dataKey","dot","activeDot","isAnimationActive","lastDate","slice","firstDate","getTime","shouldShowTime","toolTipOffset","ResponsiveContainer","height","LineChart","margin","right","top","bottom","XAxis","tick","tickCount","YAxis","datekey","padding","orientation","Tooltip","cursor","position","content","offset","StyledCoinButton","css","allowDeselect","selectedColor","HidingContainer","hidden","SelectedIndicator","CoinLogoContainer","CoinLogo","img","CoinInfo","CoinName","primary1","CoinValue","CloseIndicator","CoinButton","selected","onClick","src","process","CoinRow","coinList","selectedCoinColors","updateSelectedCoins","useState","reverse","colorStack","setColorStack","coinData","selectedPosition","defaultCoinStates","coinStates","setCoinStates","loaded","useRef","getNumberSelected","useCallback","reduce","T","coinState","handleClick","nextPosition","newColorStack","newCoinStates","JSON","parse","stringify","maxCoinsSelected","length","currentPosition","numberSelected","Math","min","j","push","pop","sort","a","b","current","noneSelected","forEach","coinInfo","filter","coinButtons","obj","StyledChartContainer","initialCoinValues","coins","ChartContainer","title","dataSelectors","timeSelectors","activeCoin","useData","dataSelector","setDataSelector","timeSelector","setTimeSelector","setSelectedCoinsAndColors","coinValues","setCoinValues","currentCoinValues","coinValuesOnHoverDate","entry","newCoinValues","newValue","handleSelectedCoinsAndColors","newSelectedCoinsAndColors","dataSelectorButtons","useMemo","selector","timeSelectorButtons","SELECTED_COIN_COLORS","ACTIVE_COIN","APY_DATA_SELECTOR","GlobalStoreContext","createContext","GlobalStoreProvider","store","setStore","updateApyData","apyData","Provider","useApyData","useContext","queriedData","setQueriedData","fetchApyData","checkForApyData","newQueriedData","rawData","shortTerm","longTerm","startTime","setDate","Object","assign","values","toLowerCase","queryApyData","compareFn","includes","console","log","shortTermUrl","longTermUrl","ret","Promise","all","url","fetch","then","response","json","keys","key","max","newEntry","BLOCK_TIME","catch","error","App","darkMode","primaryWhite","white","black","displayXL","displayL","displayM","displayS","heading","mediaWidth","upToExtraSmall","upToSmall","upToMedium","upToLarge","Theme","children","GlobalStyle","createGlobalStyle","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.7c487429.chunk.js","sourcesContent":["import styled from 'styled-components'\n\nconst OptionRow = styled.div`\n\twidth: 100%;\n\toverflow-x: scroll;\n\toverflow-y: hidden;\n\twhite-space: nowrap;\n\tpadding: 10px 0;\n\tdisplay: flex;\n\tflex-direction: row;\n\tjustify-content: ${props => props.justify};\n\n\tscrollbar-width: none;\n\t&::-webkit-scrollbar {\n\t\tdisplay: none;\n\t}\n\n\t& > * {\n\t\tmargin: 2px; \n\t}\n`;\n\nexport default OptionRow;\n","import styled from 'styled-components'\n\nconst OptionButton = styled.button`\n\tpadding: 6px;\n\tborder-radius: ${({ theme }) => theme.border.radius};\n\tborder: solid ${({ theme })  => theme.border.thickness + ' ' + theme.color.border1};\n\tbackground-color: ${({ active, theme }) => active ? theme.color.active1 : theme.color.bg1};\n\tcolor: ${({ active, theme }) => active ? theme.color.bg1: theme.color.secondary1};\n\tfont-size: ${({ theme }) => theme.fontSize.subheading};\n\tline-height: 20px;\n`;\n\n\nexport default OptionButton;\n","\n\n// Formats a javascript date object as the month and day.\n// If withTime, also adds the time of day\nexport function formatDate(date, withTime) {\n\tconst months = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\n\tlet formattedDate = months[date.getMonth()] + ' ' + date.getDate();\n\tif(withTime) {\n\t\tconst timeOptions = {\n\t\t\thour: \"numeric\",\n\t\t\tminute: \"numeric\",\n\t\t}\n\t\tconst time = date.toLocaleTimeString(\"en-US\", timeOptions);\n\t\tformattedDate += ' ' + time;\n\t}\n\n\treturn formattedDate;\n}\n\n// Formats a number represented as percent (x%), includes this % symbol if includeUnit\nexport function formatPercent(percent, includeUnit=true) {\n\treturn percent.toFixed(2).toString() + (includeUnit ? '%' : '')\n}\n","export const COINS = [\n\t{name: 'BAT', cAddress: '0x6c8c6b02e7b2be14d4fa6022dfd6d75921d90e4e'},\n\t{name: 'COMP', cAddress: '0x70e36f6bf80a52b3b46b3af8e106cc0ed743e8e4'},\n\t{name: 'DAI', cAddress: '0x5d3a536e4d6dbd6114cc1ead35777bab948e3643'},\n\t{name: 'ETH', cAddress: '0x4ddc2d193948926d02f9b1fe9e1daa0718270ed5'},\n\t{name: 'UNI', cAddress: '0x35a18000230da775cac24873d00ff85bccded550'},\n\t{name: 'ZRX', cAddress: '0xb3319f5d18bc0d84dd1b4825dcde5d5f7266d407'},\n\t{name: 'USDC', cAddress: '0x39aa39c021dfbae8fac545936693ac917d5e7563'},\n\t{name: 'USDT', cAddress: '0xf650c3d88d12db855b8bf7d11be6c55a4e07dcc9'},\n\t{name: 'WBTC', cAddress: '0xccf4429db6322d5c611ee964527d42e5d685dd6a'},\n\t{name: 'WBTC2', cAddress: '0xccf4429db6322d5c611ee964527d42e5d685dd6a'},\n]\n\n// Used for chart buttons and data\nexport const TIME_SELECTORS = [ \n\t{name: \"1D\", days: 1},\n\t{name: \"1W\", days: 7},\n\t{name: \"1M\", days: 30},\n\t{name: \"3M\", days: 90},\n\t{name: \"1Y\", days: 365},\n\t{name: \"All\", days: null},\n];\n\nexport const URLS = {\n\tAPY_LONG: 'https://api.flipsidecrypto.com/api/v2/queries/ebad7f35-11e0-4561-9346-fa87c88d7598/data/latest' ,\n\tAPY_SHORT: 'https://api.flipsidecrypto.com/api/v2/queries/dc338ecd-cdce-4c0b-ae9e-ac7978c2469e/data/latest'\n}\n\nexport const SHORT_TERM_DAYS = 8; // Any days more is considered long term data\n","import React, { useEffect } from 'react'\nimport styled from 'styled-components'\nimport { LineChart, Line, ResponsiveContainer, XAxis, YAxis, Tooltip } from 'recharts';\nimport { formatDate } from '../utils'\nimport { SHORT_TERM_DAYS } from '../constants'\n\nconst cursorConfig = {\n\tstroke: 'gray', // Can't use theme here\n\tstrokeWidth: 2,\n\tstrokeDasharray: '5,5',\n};\n\nconst activeDotConfig = {\n\tr: 5, // dot radius\n}\n\nconst StyledTooltip = styled.div`\n\tbackground-color: red;\n\ttext-align: center;\n\tpadding: 5px 0;\n\twidth: ${({toolTipWidth}) => toolTipWidth}px;\n\tcolor: ${({theme}) => theme.color.secondary1};\n\tborder: solid ${({theme}) => theme.border.thickness + ' ' + theme.color.border1};\n\tborder-radius: ${({theme}) => theme.border.radius};\n\tbackground-color: ${({theme}) => theme.color.bg1};\n\tfont-size: ${({theme}) => theme.fontSize.body};\n\ttransform: translate(${({translationX}) => translationX}px);\n`;\n\nfunction CustomTooltip({ coordinate, toolTipWidth, viewBox, setHoverDate, showTime, payload }) {\n\tconst hoverDate = payload ? payload[0]?.payload.blockTime : null;\n\n\t// If hover date updates, let parent know (after render)\n\tuseEffect(() => {\n\t\tsetHoverDate(hoverDate);\n\t}, [hoverDate, setHoverDate]);\n\n\tif(hoverDate) {\n\t\t// Format the tooltip date\n\t\tconst date = new Date(hoverDate);\n\t\tconst formattedDate = formatDate(date, showTime);\n\n\t\t// Bound the right side of tooltip\n\t\tconst rightX = coordinate.x + toolTipWidth/2;\n\t\tconst maxX = viewBox.width + viewBox.left;\n\t\tconst translationX = rightX > maxX ? maxX - rightX : 0; \n\n\t\treturn (\n\t\t\t<StyledTooltip toolTipWidth={toolTipWidth} translationX={translationX} >{formattedDate}</StyledTooltip>\n\t\t);\n\t} else {\n\t\treturn null;\n\t}\n}\n\nfunction CustomXTick(props) {\n\tconst {x, y, payload, showTime} = props;\n\tconst date = new Date(payload.value);\n\tconst formattedDate = formatDate(date, showTime);\n\treturn <text x={x} y={y+15} textAnchor='middle'>{formattedDate}</text>\n}\n\nexport default function MultilineChart({ data, selectedCoinsAndColors, setHoverDate }) {\n\tfunction shouldShowTime() {\n\t\tif(!data) return false;\n\n\t\tconst lastDate = new Date(data.slice(-1)[0].blockTime);\n\t\tconst firstDate = new Date(data[0].blockTime);\n\t\tconst dayDiff = (lastDate.getTime() - firstDate.getTime()) / (1000 * 60 * 60 * 24); // ms diff converted to days\n\t\treturn dayDiff < SHORT_TERM_DAYS;\n\t}\n\n\t// Render\n\tconst lines = selectedCoinsAndColors.map((coin, i) => {\n\t\treturn (\n\t\t\t<Line \n\t\t\ttype='monotone' \n\t\t\tdataKey={coin.name} \n\t\t\tstroke={coin.color} \n\t\t\tkey={i} \n\t\t\tdot={false} \n\t\t\tactiveDot={activeDotConfig}\n\t\t\tisAnimationActive={false}\n\t\t/>\n\t\t);\n\t});\n\n\tconst showTime = shouldShowTime();\n\tconst toolTipWidth = showTime ? 150 : 90;\n\tconst toolTipOffset = -toolTipWidth/2; // Center it on the cursor\n\n\treturn (\n\t\t<ResponsiveContainer width='100%' height={300} >\n\t\t\t<LineChart margin={{right: 20, left: 0, top: 0, bottom: 0}} data={data}>\n\t\t\t\t{lines}\n\t\t\t\t<XAxis \n\t\t\t\t\tdataKey='blockTime' \n\t\t\t\t\ttick={<CustomXTick showTime={showTime} />} \n\t\t\t\t\ttickCount={3}\n\t\t\t\t/>\n\t\t\t\t<YAxis \n\t\t\t\t\tdatekey='price' \n\t\t\t\t\tpadding={{top: 30}} // Space for tooltip above the data\n\t\t\t\t\torientation='left'\n\t\t\t\t/>\n\t\t\t\t<Tooltip \n\t\t\t\t\tcursor={cursorConfig} \n\t\t\t\t\tposition={{y: 0}}  // Set to the top of chart\n\t\t\t\t\tcontent={<CustomTooltip toolTipWidth={toolTipWidth} setHoverDate={setHoverDate} showTime={showTime} />} \n\t\t\t\t\tisAnimationActive={false}\n\t\t\t\t\toffset={toolTipOffset} \n\t\t\t\t/>\n\t\t\t</LineChart>\n\t\t</ResponsiveContainer>\n\t);\n}\n","import React from 'react'\nimport styled, { css } from 'styled-components'\nimport OptionButton from './'\n\n\nconst StyledCoinButton = styled(OptionButton)`\n\tbackground-color: ${props => props.theme.color.bg1};\n\twidth: 104px;\n\theight: 48px;\n\tdisplay: flex;\n\n\t${props => props.active && css`\n\t\twidth: ${props => props.allowDeselect ? '143px' : '120px'};\n\t\tborder-width: 2px;\t\n\t\tborder-color: ${props => props.selectedColor};\n\t`}\n`;\n\nconst HidingContainer = styled.div`\n\tdisplay: flex;\n\tbox-sizing: content-box;\n\theight: 100%;\n\tfloat: left;\n\topacity: 1;\n\twidth: 12px;\n\tpadding-left: 4px;\n\tpadding-right: 4px;\n\n\t${props => props.hidden && css`\n\t\topacity: 0;\t\n\t\twidth: 0;\n\t\tpadding: 0;\n\t`}\n`;\n\nconst SelectedIndicator = styled.div`\n\tbackground-color: ${props => props.selectedColor};\t\n\twidth: 12px;\n\theight: 12px;\n\tborder-radius: 6px;\n\tmargin: auto;\n`;\n\nconst CoinLogoContainer = styled.div`\n\tpadding-left: 5px;\n\tdisplay: flex;\n\tbox-sizing: content-box;\n\theight: 100%;\n\twidth: 24px;\n`;\n\nconst CoinLogo = styled.img`\n\twidth: 24px;\n\theight: 24px;\n\tfloat: left;\n\tmargin: auto;\n`;\n\nconst CoinInfo = styled.div`\n\tdisplay: flex;\n\tbox-sizing: content-box;\n\tflex-direction: column;\n\twidth: 50px;\n\tpadding-left: 5px;\n\tfont-size: ${props => props.theme.fontSize.subheading};\n`;\n\nconst CoinName = styled.div`\n\tcolor: ${props => props.theme.color.primary1};\n\tdisplay: flex;\n\theight: 50%;\t\n\talign-items: flex-end;\n`;\n\nconst CoinValue = styled.div`\n\tcolor: ${props => props.theme.color.secondary1};\n\theight: 50%;\n\ttext-align: left;\n`;\n\nconst CloseIndicator = styled.img`\n\theight: 16px;\n\twidth: 16px;\n\tmargin: auto;\n`;\n\n\nfunction CoinButton(props) {\n\treturn (\n\t\t<StyledCoinButton \n\t\t\tselectedColor={props.color} \n\t\t\tactive={props.selected}\n\t\t\tonClick={props.onClick}\n\t\t\tallowDeselect={props.allowDeselect}\t\n\t\t>\n\t\t\t<HidingContainer hidden={!props.selected}>\n\t\t\t\t<SelectedIndicator selectedColor={props.color} />\n\t\t\t</HidingContainer>\n\t\t\t<CoinLogoContainer>\n\t\t\t\t<CoinLogo src={process.env.PUBLIC_URL + `img/coins/${props.name}.svg`} />\t\t\t\t\n\t\t\t</CoinLogoContainer>\n\t\t\t<CoinInfo>\n\t\t\t\t<CoinName>{props.name}</CoinName>\n\t\t\t\t<CoinValue>{props.value}</CoinValue>\n\t\t\t</CoinInfo>\n\t\t\t<HidingContainer hidden={!props.selected || !props.allowDeselect}>\n\t\t\t\t<CloseIndicator src={process.env.PUBLIC_URL + 'img/closeIcon.svg'} />\n\t\t\t</HidingContainer>\n\t\t</StyledCoinButton>\n\t);\n}\n\nexport default CoinButton;\n","import React, { useState, useEffect, useRef, useCallback } from 'react'\nimport CoinButton from './buttons/coinButton'\nimport OptionRow from './optionRow'\nimport { formatPercent } from '../utils'\n\n\nfunction defaultCoinStates(coinList) {\n\treturn coinList.map((coinData, i) => {\n\t\treturn {name: coinData.name, color: null, selectedPosition: null}\n\t});\n}\n\nexport default function CoinRow({ coinList, selectedCoinColors, updateSelectedCoins}) {\n\tconst [colorStack, setColorStack] = useState(selectedCoinColors.reverse());\n\tconst [coinStates, setCoinStates] = useState(defaultCoinStates(coinList));\n\tconst loaded = useRef(false);\n\n\n\t// Helpers\n\tconst getNumberSelected = useCallback(() => {\n\t\tconst numberSelected = coinStates.reduce((T, coinState) => {\n\t\t\treturn coinState.selectedPosition !== null ? T + 1 : T;\n\t\t}, 0);\n\t\treturn numberSelected;\n\t}, [coinStates]);\n\n\n\t// Handles changing selected state, color, and reordering\n\tconst handleClick = useCallback((i) => {\n\t\tlet newColorStack = colorStack.slice();\n\t\tlet newCoinStates = JSON.parse(JSON.stringify(coinStates)); // deep copy\n\t\t\n\t\tconst maxCoinsSelected = selectedCoinColors.length;\n\t\tconst currentPosition = newCoinStates[i].selectedPosition;\n\t\tconst numberSelected = getNumberSelected();\n\n\t\tlet nextPosition;\n\t\tif(currentPosition === null) { // It is not selected, so select it\n\t\t\tnextPosition = Math.min(numberSelected + 1, maxCoinsSelected);\n\t\t} else if(!coinList[i].allowDeselect || numberSelected === 1) { // Can't deselect if not allowDeselect, or the last one\n\t\t\treturn;\n\t\t} else { // Deselect\n\t\t\tnextPosition = null; \n\t\t}\t\n\n\t\t// Reordering other selected positions\n\t\tfor(let j = 0; j < newCoinStates.length; j++) {\n\t\t\tlet position = newCoinStates[j].selectedPosition;\n\t\t\tif(currentPosition && position > currentPosition) { // Deselecting, so shuffle down 1\n\t\t\t\tnewCoinStates[j].selectedPosition = position - 1;\n\t\t\t} else if(nextPosition === maxCoinsSelected && position === maxCoinsSelected) { // Selecting more than max, bump off the last selected\n\t\t\t\tnewCoinStates[j].selectedPosition = null;\n\t\t\t\tnewColorStack.push(coinStates[j].color);\n\t\t\t\tnewCoinStates[j].color = null;\n\t\t\t}\n\t\t}\n\t\t\n\t\t// Set the new position\n\t\tnewCoinStates[i].selectedPosition = nextPosition; \n\t\tif(!nextPosition) {\n\t\t\tnewColorStack.push(coinStates[i].color);\n\t\t\tnewCoinStates[i].color = null;\n\t\t} else {\n\t\t\tnewCoinStates[i].color = newColorStack.pop();\n\t\t}\n\n\t\t// Sort so that the first selected are shown first\n\t\tnewCoinStates.sort((a, b) => {\n\t\t\tif(a.selectedPosition === b.selectedPosition) return 0;\n\t\t\tif(a.selectedPosition === null) return 1;\n\t\t\tif(b.selectedPosition === null) return -1;\n\t\t\treturn a.selectedPosition - b.selectedPosition;\n\t\t});\n\n\t\tsetColorStack(newColorStack);\n\t\tsetCoinStates(newCoinStates);\n\t}, [colorStack, coinStates, getNumberSelected, coinList, selectedCoinColors]);\n\n\n\t// On mount, set up the default selected and colors\n\tuseEffect(() => {\n\t\tif(!loaded.current) {\n\t\t\tlet noneSelected = true;\n\t\t\tcoinList.forEach((coinInfo, i) => {\n\t\t\t\tif(!coinInfo.allowDeselect) {\n\t\t\t\t\thandleClick(i);\n\t\t\t\t\tnoneSelected = false;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// If there are none selected, select the first\n\t\t\tif(noneSelected) {\n\t\t\t\thandleClick(0);\n\t\t\t}\n\t\t\tloaded.current = true;\n\t\t}\n\t}, [handleClick, coinList]);\n\n\t// Callback to parent with new selected coins and colors\n\tuseEffect(() => {\n\t\tlet selectedCoinsAndColors = coinStates.filter(coinState => coinState.selectedPosition !== null);\n\t\tselectedCoinsAndColors = selectedCoinsAndColors.map((coinState) => {return {name: coinState.name, color: coinState.color}});\n\t\tupdateSelectedCoins(selectedCoinsAndColors);\n\t}, [coinStates, updateSelectedCoins]);\n\n\n\t// Render\n\tconst numberSelected = getNumberSelected();\n\tconst coinButtons = coinStates.map((coinState, i) => {\n\t\tconst coinData = coinList.filter(obj => obj.name === coinState.name)[0];\n\t\tconst allowDeselect = coinData.allowDeselect && numberSelected > 1; // One must always be selected\n\t\treturn (\n\t\t\t<CoinButton \n\t\t\t\tkey={i}\n\t\t\t\tname={coinState.name} \n\t\t\t\tcolor={coinState.color} // The order in coinStates, and coinList must stay the same\n\t\t\t\tselected={coinState.selectedPosition !== null} \n\t\t\t\tvalue={formatPercent(coinData.value ? coinData.value : 0)}\n\t\t\t\tonClick={() => handleClick(i)}\n\t\t\t\tallowDeselect={allowDeselect}\n\t\t\t/>\n\t\t);\n\t});\n\n\treturn (\n\t\t<OptionRow>\n\t\t\t{coinButtons}\n\t\t</OptionRow>\n\t);\n}\n","import React, { useState, useEffect, useCallback, useMemo } from 'react'\nimport styled from 'styled-components'\nimport OptionRow from './optionRow'\nimport OptionButton from './buttons'\nimport MultilineChart from './multilineChart'\nimport CoinRow from './coinRow'\n\nconst StyledChartContainer = styled.div`\n\tborder: solid ${({ theme })  => theme.border.thickness + ' ' + theme.color.border1};\n\tborder-radius: ${({ theme }) => theme.border.radius};\n\tmax-width: 1024px;\n\tpadding: 15px;\n\tmargin: auto;\n`;\n\nfunction initialCoinValues(coins) {\n\treturn coins.map((coin) => {return {name: coin.name, value: 0}});\n}\n\nexport default function ChartContainer({ title, coins, selectedCoinColors, dataSelectors, timeSelectors, activeCoin, useData }) {\n\tconst [dataSelector, setDataSelector] = useState(dataSelectors[0]);\n\tconst [timeSelector, setTimeSelector] = useState(timeSelectors[0]);\n\tconst [selectedCoinsAndColors, setSelectedCoinsAndColors] = useState([]);\n\tconst [hoverDate, setHoverDate] = useState(0);\n\tconst [coinValues, setCoinValues] = useState(initialCoinValues(coins));\n\tconst data = useData(dataSelector, timeSelector); \n\n\n\t// Set coin values when hover date changes\n\tuseEffect(() => {\n\t\tconst currentCoinValues = data?.slice(-1)[0];\n\t\tconst coinValuesOnHoverDate = data?.filter(entry => entry.blockTime === hoverDate)[0];\n\t\tif(!currentCoinValues) return;\n\n\t\tlet newCoinValues = initialCoinValues(coins); \n\t\tnewCoinValues = newCoinValues.map(({name, value}) => {\n\t\t\tconst isSelected = selectedCoinsAndColors.filter(obj => obj.name === name).length === 1;\n\t\t\tlet newValue;\n\t\t\tif(!isSelected || !hoverDate || !coinValuesOnHoverDate) {\n\t\t\t\tnewValue = currentCoinValues[name];\n\t\t\t} else {\n\t\t\t\tnewValue = coinValuesOnHoverDate[name];\n\t\t\t}\n\t\t\treturn {name: name, value: newValue};\n\t\t});\n\n\t\tsetCoinValues(newCoinValues);\n\t}, [selectedCoinsAndColors, hoverDate, data, coins]);\n\n\n\tconst handleSelectedCoinsAndColors = useCallback((newSelectedCoinsAndColors) => {\n\t\tsetSelectedCoinsAndColors(newSelectedCoinsAndColors);\t\n\t}, []);\n\n\n\t// Render\n\tconst dataSelectorButtons = useMemo(() => {\n\t\treturn (\n\t\t\tdataSelectors.map((selector, i) => {\n\t\t\t\treturn (\n\t\t\t\t\t<OptionButton \n\t\t\t\t\t\tkey={i} \n\t\t\t\t\t\tactive={dataSelector === selector}\n\t\t\t\t\t\tonClick={() => setDataSelector(selector)}\n\t\t\t\t\t>\n\t\t\t\t\t\t{selector.name}\n\t\t\t\t\t</OptionButton>\n\t\t\t\t);\n\t\t\t})\n\t\t);\n\t}, [dataSelector, dataSelectors, setDataSelector]);\n\n\tconst timeSelectorButtons = useMemo(() => {\n\t\treturn (\n\t\t\ttimeSelectors.map((selector, i) => {\n\t\t\t\treturn (\n\t\t\t\t\t<OptionButton \n\t\t\t\t\t\tkey={i} \n\t\t\t\t\t\tactive={timeSelector === selector}\n\t\t\t\t\t\tonClick={() => setTimeSelector(selector)}\n\t\t\t\t\t>\n\t\t\t\t\t\t{selector.name}\n\t\t\t\t\t</OptionButton>\n\t\t\t\t);\n\t\t\t})\t\n\t\t);\n\t}, [timeSelector, timeSelectors, setTimeSelector]);\n\n\tconst coinList = coins.map((coin) => {\n\t\tconst value = coinValues.filter(obj => obj.name === coin.name)[0].value;\n\t\treturn {'name': coin.name, value: value, allowDeselect: coin.name !== activeCoin?.name}\n\t});\n\n\treturn (\n\t\t<StyledChartContainer>\n\t\t\t{title}\n\t\t\t<OptionRow>\n\t\t\t\t<OptionRow>\n\t\t\t\t\t{dataSelectorButtons}\n\t\t\t\t</OptionRow>\n\t\t\t\t<OptionRow justify='flex-end'>\n\t\t\t\t\t{timeSelectorButtons}\n\t\t\t\t</OptionRow>\n\t\t\t</OptionRow>\n\n\t\t\t<MultilineChart data={data} selectedCoinsAndColors={selectedCoinsAndColors} setHoverDate={(date) => setHoverDate(date)} />\n\n\t\t\tCompare to:\n\t\t\t<CoinRow \n\t\t\t\tcoinList={coinList} \n\t\t\t\tselectedCoinColors={selectedCoinColors} \n\t\t\t\tupdateSelectedCoins={handleSelectedCoinsAndColors}\n\t\t\t/>\n\t\t\t</StyledChartContainer>\n\t\t);\n}\n","import { COINS } from './constants'\n\n//// General chart config\n// The colors used for coin selection, and lines, these will only be this many allowed selected at a time\nexport const SELECTED_COIN_COLORS = ['green', 'blue', 'red', 'orange', 'pink']; \n\n\n//// APY Chart config\n// The active coin is always selected, if null there is no active coin (i.e non coin specific plot)\nexport const ACTIVE_COIN = COINS[5]; \n//export const ACTIVE_COIN = null; \n\nexport const APY_CHART_TITLE = 'Market APY';\n\n// These must be consistent with the names for the data table\nexport const APY_DATA_SELECTOR = [ \n\t{name: 'Supply'},\n\t{name: 'Borrow'},\n];\n\n","import React, { useState, createContext, useContext, useEffect, useCallback } from 'react'\nimport { URLS, COINS, SHORT_TERM_DAYS } from '../constants'\n\nconst GlobalStoreContext = createContext();\n\n// To wrap components in this at the top level\nexport default function GlobalStoreProvider(props) {\n\tconst [store, setStore] = useState({});\n\n\tconst updateApyData = useCallback((data) => {\n\t\tsetStore({...store, apyData: data});\n\t}, [store]);\n\n\treturn <GlobalStoreContext.Provider value={[store, {updateApyData}]} {...props} />\n}\n\nfunction useGlobalStore() { \n\treturn useContext(GlobalStoreContext)\n}\n\n\n//// Apy data\n// Custom hook which is exposed to get the data\nexport function useApyData(dataSelector, timeSelector) {\n\tconst [store, {updateApyData}] = useGlobalStore();\n\tconst [queriedData, setQueriedData] = useState(null);\n\tconst apyData = store?.apyData;\n\n\tuseEffect(() => {\n\t\tasync function checkForApyData() {\n\t\t\t// Fetch the data if it hasn't been fetched already:\n\t\t\tif(!apyData) {\n\t\t\t\tconst data = await fetchApyData();\n\t\t\t\tupdateApyData(data);\n\t\t\t}\n\t\t}\n\n\t\tcheckForApyData();\n\t}, [apyData, updateApyData]);\n\n\tuseEffect(() => {\n\t\tif(apyData) {\n\t\t\tconst newQueriedData = queryApyData(apyData, dataSelector, timeSelector);\n\t\t\tsetQueriedData(newQueriedData);\n\t\t}\n\t}, [dataSelector, timeSelector, apyData, setQueriedData]);\n\n\treturn queriedData;\n}\n\n// Fetch the data using the URL's pointing to flipside queries\nasync function fetchApyData() {\n\tconsole.log('fetching apy data');\n\tconst shortTermUrl = URLS.APY_SHORT;\n\tconst longTermUrl = URLS.APY_LONG;\n\tlet ret = {};\t\n\n\t// Custom compare function for sorting to handle the case where one is a substring of the other, this is for WBTC and WBTC2\n\tfunction compareFn(a, b) {\n\t\tif(a.includes(b)) {\n\t\t\treturn -1;\n\t\t} else if(b.includes(a)) {\n\t\t\treturn 1;\n\t\t} else {\n\t\t\treturn [a, b].sort()[0] === a ? -1 : 1; // default sort \n\t\t}\n\t}\n\n\tconst coins = COINS.map(coin => coin.name).sort(compareFn)\n\t\n\t// Sending parallel api requests, and manipulating it in an easy to consume manor\n\tawait Promise.all(([['shortTerm', shortTermUrl], ['longTerm', longTermUrl]]).map(([type, url]) => \n\t\tfetch(url)\n\t\t\t.then(response => response.json())\n\t\t\t.then(data => {\n\t\t\t\tlet keys = Object.keys(data[0]).filter(key => key !== 'BLOCK_TIME') // Table keys without block time \n\t\t\t\tkeys.sort(compareFn); // 0|i => borrow, 1|i => supply, 2|i => total borrow, 3|i => total supply \t\n\t\t\t\tconst max = keys.length + 1; // len: keys.len + 1\n\n\t\t\t\tdata = data.map(entry => {\n\t\t\t\t\tlet newEntry = {\n\t\t\t\t\t\t'blockTime': entry.BLOCK_TIME,\n\t\t\t\t\t\t'values': {\n\t\t\t\t\t\t\t'borrow': {},\n\t\t\t\t\t\t\t'supply': {},\n\t\t\t\t\t\t\t'totalBorrow': {},\n\t\t\t\t\t\t\t'totalSupply': {},\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tfor(let i = 0; i < max / 4 - 1; i++) {\n\t\t\t\t\t\tnewEntry.values['borrow'][coins[i]] = entry[keys[4*i]];\n\t\t\t\t\t\tnewEntry.values['supply'][coins[i]] = entry[keys[4*i+1]];\n\t\t\t\t\t\tnewEntry.values['totalBorrow'][coins[i]] = entry[keys[4*i+2]];\n\t\t\t\t\t\tnewEntry.values['totalSupply'][coins[i]] = entry[keys[4*i+3]];\n\t\t\t\t\t}\n\n\t\t\t\t\treturn newEntry;\n\t\t\t\t})\n\t\t\t\tret[type] = data;\n\t\t\t})\n\t\t\t.catch(error => console.log(error))\n\t\t))\n\t\t.catch(error => console.log(error))\n\n\treturn ret \n}\n\nfunction queryApyData(rawData, dataSelector, timeSelector) {\n\tif(!rawData) return null;\n\t// Grab short term, or long term and create a copy\n\tlet data = timeSelector.days !== null && timeSelector.days <= SHORT_TERM_DAYS ? rawData.shortTerm.slice() : rawData.longTerm.slice();\n\n\tlet startTime = new Date();\n\tif(timeSelector.days === null) {\n\t\tstartTime = new Date(1700, 1, 1); // smallest date\n\t} else {\n\t\tstartTime.setDate(startTime.getDate() - timeSelector.days);\n\t}\n\n\t// Filter on dataSelector\n\tdata = data.map(entry => {\n\t\treturn\tObject.assign(entry.values[dataSelector.name.toLowerCase()], {'blockTime': entry.blockTime});\n\t})\n\n\t// Filter on timeSelector\n\tdata = data.filter(entry => {\n\t\tconst blockStartTime = new Date(entry.blockTime);\n\t\treturn blockStartTime >= startTime;\n\t});\n\n\treturn data;\n}\n","import React from 'react'\nimport ChartContainer from './components/chartContainer'\nimport { APY_CHART_TITLE, SELECTED_COIN_COLORS, APY_DATA_SELECTOR, ACTIVE_COIN } from './config'\nimport { COINS, TIME_SELECTORS } from './constants'\nimport { useApyData } from './store'\n\nfunction App() {\n\treturn (\n\t\t<>\n\t\t\t<ChartContainer \n\t\t\t\ttitle={APY_CHART_TITLE}\n\t\t\t\tselectedCoinColors={SELECTED_COIN_COLORS} \n\t\t\t\tdataSelectors={APY_DATA_SELECTOR} \n\t\t\t\tactiveCoin={ACTIVE_COIN}\n\t\t\t\tcoins={COINS}\n\t\t\t\ttimeSelectors={TIME_SELECTORS}\n\t\t\t\tuseData={useApyData}\n\t\t\t/>\n\t\t</>\n\t);\n}\n\n\nexport default App;\n","import React from 'react'\nimport {createGlobalStyle, ThemeProvider} from 'styled-components'\n\nconst theme = (darkMode, color) => ({\n\tprimaryWhite: '#FFFFFF',\t\n\n\tcolor: {\n\t\twhite: '#000000',\n\t\tblack: '#FFFFFF',\n\n\t\tbg1: darkMode ? '#000000' : '#FFFFFF',\n\n\t\tprimary1: darkMode ? '#' : '#212B36',\n\n\t\tsecondary1: darkMode ? '#' : '#586069',\n\n\t\tactive1: darkMode ? '#' : '#0366D6',\n\n\t\tborder1: darkMode ? '#FFFFFF' : '#DEDFE1',\n\t},\n\n\tfontSize: {\n\t\tdisplayXL: '48px',\n\t\tdisplayL: '30px',\n\t\tdisplayM: '26px',\n\t\tdisplayS: '20px',\n\t\t\n\t\theading: '18px',\n\t\tsubheading: '14px',\n\n\t\tbody: '16px',\n\t},\n\n\tborder: {\n\t\tthickness: '1px',\t\n\t\tradius: '6px',\n\t},\n\n\tmediaWidth: {\n\t\tupToExtraSmall: 500,\n\t\tupToSmall: 700,\n\t\tupToMedium: 960,\n\t\tupToLarge: 1280,\n\t}\n});\n\n// Everything that is child of theme, gets theme as its props, so it can be used everywhere\nexport default function Theme({children}) {\n\tconst darkMode = false; // TODO: add darkmode functionality later\n\n\treturn <ThemeProvider theme={theme(darkMode)}>{children}</ThemeProvider>;\n};\n\n\n// Fonts are imported in index.html\nexport const GlobalStyle = createGlobalStyle`\n\thtml, div {\n\t\tfont-family: 'Inter', sans-serif;\n\t}\n\n\thtml, body, #root {\n\t\tmargin: 0;\n\t\tpadding: 0;\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\tfont-weight: 400;\n\t\toverflow: hidden;\n\t}\n\n\tdiv {\n\t\tbox-sizing: border-box;\n\t}\n\t\n\t.hidden {\n\t\topacity: 0;\n\t}\n`;\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './app'\nimport Theme, {GlobalStyle} from './theme'\nimport GlobalStoreProvider from './store'\n\nReactDOM.render(\n\t<GlobalStoreProvider>\n\t\t<Theme>\n\t\t\t<GlobalStyle />\n\t\t\t<App />\n\t\t</Theme>\n\t</GlobalStoreProvider>,\n\tdocument.getElementById('root')\n);\n"],"sourceRoot":""}