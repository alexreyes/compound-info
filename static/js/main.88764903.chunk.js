(this.webpackJsonpcompoundinfo=this.webpackJsonpcompoundinfo||[]).push([[0],{327:function(t,e,n){"use strict";n.r(e);var r,o,i,c=n(0),a=n(68),l=n.n(a),u=n(9),s=n(8),d=n(33),b=n(2),j={extraSmall:500,small:700,medium:960,large:1280},f=Object.keys(j).reduce((function(t,e){return t[e]=function(){return Object(s.c)(r||(r=Object(u.a)(["\n\t\t@media (max-width: ","px) {\n\t\t\t",";\n\t\t}\n\t"])),j[e],s.c.apply(void 0,arguments))},t}),{}),p=function(t){return{color:{bg0:t?"#000000":"#FFFFFF",bg1:t?"#19191A":"#FFFFFF",primary1:t?"#FFFFFF":"#212B36",secondary1:t?"#808994":"#586069",active1:t?"#000000":"#0366D6",border1:t?"#272B31":"#DEDFE1",linkInternal:"#0095D5",linkExternal:t?"#808994":"#586069"},border:{thickness:"1px",radius:"6px"},mediaWidth:f,spacing:{default:"5px",card:"10px",roomy:"30px"}}},m=s.d.div(o||(o=Object(u.a)(["\n\tcolor: ",";\n\tfont-size: ","px;\n\tfont-weight: ",";\n"])),(function(t){var e=t.color;return t.theme.color[e]}),(function(t){return t.fontSize}),(function(t){return t.fontWeight})),h=function(t){return Object(b.jsx)(m,Object(d.a)({fontSize:42,fontWeight:600,color:"primary1"},t))},O=function(t){return Object(b.jsx)(m,Object(d.a)({fontSize:28,fontWeight:600,color:"primary1"},t))},v=function(t){return Object(b.jsx)(m,Object(d.a)({fontSize:20,fontWeight:600,color:"primary1"},t))},x=function(t){return Object(b.jsx)(m,Object(d.a)({fontSize:16,fontWeight:400,color:"primary1"},t))},g=function(t){return Object(b.jsx)(m,Object(d.a)({fontSize:14,fontWeight:400,color:"secondary1"},t))},y=function(t){return Object(b.jsx)(m,Object(d.a)({fontSize:16,fontWeight:400,color:"primary1"},t))};function w(t){var e=t.darkMode,n=t.children;return Object(b.jsx)(s.a,{theme:p(e),children:n})}var k,S,T,C,D,F=Object(s.b)(i||(i=Object(u.a)(["\n\thtml, div {\n\t\tfont-family: 'Inter', sans-serif;\n\t}\n\n\thtml, body, #root {\n\t\tmargin: 0;\n\t\tpadding: 0;\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\tfont-weight: 400;\n\t\toverflow-x: hidden;\n\t\tcolor: ",";\n\t\tbackground-color: ",";\n\t}\n\n\t* {\n\t\tbox-sizing: border-box;\n\t}\n\t\n\t.hidden {\n\t\topacity: 0;\n\t}\n\n\ta {\n\t\tcolor: ","\n\t}\n"])),(function(t){return t.theme.color.primary1}),(function(t){return t.theme.color.bg0}),(function(t){return t.theme.color.linkInternal})),A=n(50),B=(s.d.a(k||(k=Object(u.a)(["\n\ttext-decoration: none;\t\n"]))),Object(s.d)(A.b)(S||(S=Object(u.a)(["\n\ttext-decoration: none;\n\tcolor: ",";\n"])),(function(t){return t.theme.color.linkInternal}))),z=s.d.a(T||(T=Object(u.a)(["\n\ttext-decoration: none;\n\tcolor: ",";\n"])),(function(t){return t.theme.color.linkExternal})),_=s.d.img(C||(C=Object(u.a)(["\n\twidth: ",";\n\theight: ",";\n\tmargin-right: ",";\n"])),(function(t){var e=t.size;return null!==e&&void 0!==e?e:"24px"}),(function(t){var e=t.size;return null!==e&&void 0!==e?e:"24px"}),(function(t){var e=t.theme,n=t.marginRight;return null!==n&&void 0!==n?n:e.spacing.default})),P=s.d.div(D||(D=Object(u.a)(["\n\twidth: 100%;\n\ttext-align: left;\n\tpadding-top: 20px;\n"])));function M(t){var e=t.title;return Object(b.jsx)(P,{children:Object(b.jsx)(v,{paddingTop:"10px",children:e})})}var E,W,U,L,q,R,I,N,$,J,H,K,X=n(14),Z=s.d.button(E||(E=Object(u.a)(["\n\tpadding: 6px;\n\tborder-radius: ",";\n\tborder: solid ",";\n\tbackground-color: ",";\n\n\t","\n"])),(function(t){return t.theme.border.radius}),(function(t){var e=t.theme;return e.border.thickness+" "+e.color.border1}),(function(t){var e=t.active,n=t.theme;return e?n.color.active1:n.color.bg1}),(function(t){return t.active&&Object(s.c)(W||(W=Object(u.a)(["\n\t\tcolor: ","\n\t"])),(function(t){return t.theme.color.active}))})),Y=n.p+"static/media/closeIcon.9cda8bed.svg",V=n.p+"static/media/BAT.bfe40f59.svg",G=n.p+"static/media/COMP.bfe40f59.svg",Q=n.p+"static/media/DAI.f2f3fc6b.svg",tt=n.p+"static/media/ETH.9e2e789d.svg",et=n.p+"static/media/UNI.a4e9554b.svg",nt=n.p+"static/media/ZRX.04b93bc3.svg",rt=n.p+"static/media/USDC.a1ff5f3c.svg",ot=n.p+"static/media/USDT.b2266e74.svg",it=n.p+"static/media/WBTC.eada7d98.svg",ct=[{name:"BAT",imgSrc:V},{name:"COMP",imgSrc:G},{name:"DAI",imgSrc:Q},{name:"ETH",imgSrc:tt},{name:"UNI",imgSrc:et},{name:"ZRX",imgSrc:nt},{name:"USDC",imgSrc:rt},{name:"USDT",imgSrc:ot},{name:"WBTC",imgSrc:it},{name:"WBTC2",imgSrc:it}],at=[{name:"1D",days:1},{name:"1W",days:7},{name:"1M",days:30},{name:"3M",days:90},{name:"1Y",days:365},{name:"All",days:null}],lt=["#F9A234","#FF7EA8","#0095D5","#00CDAF","#885FB1"],ut=[{name:"Supply"},{name:"Borrow"}],st="https://api.flipsidecrypto.com/api/v2/queries/ebad7f35-11e0-4561-9346-fa87c88d7598/data/latest",dt="https://api.flipsidecrypto.com/api/v2/queries/dc338ecd-cdce-4c0b-ae9e-ac7978c2469e/data/latest",bt="https://api.compound.finance/api/v2/ctoken";function jt(t,e){var n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()]+" "+t.getDate();if(e){n+=" "+t.toLocaleTimeString("en-US",{hour:"numeric",minute:"numeric"})}return n}function ft(t,e){var n=1e6,r=1e9,o=1e12,i="",c=!1,a=t,l=!1;return"string"===typeof t&&(a=parseFloat(a),isNaN(a))?t:("%"===e&&(a*=100,c=!0),a>o?(a/=o,i="T"):a>r?(a/=r,i="B"):a>n?(a/=n,i="M"):a>1e3&&(a/=1e3,i="K"),a%1===0&&(l=!0),a=l?a.toFixed(0).toString():a.toFixed(2).toString(),a+=i,a=e?c?a+e:e+a:a)}function pt(t){var e=ct.filter((function(e){return e.name===t}));return e&&1===e.length?e[0]:null}function mt(t){var e=t.length;return e<12||e<12?t:t.slice(0,6)+"..."+t.slice(e-6,e)}function ht(){return ct.map((function(t){return t.name}))}function Ot(t){var e=t.replace(/([A-Z])/g," $1");return e=e.charAt(0).toUpperCase()+e.slice(1)}function vt(t){var e=t.name,n=t.size,r=pt(e).imgSrc;return Object(b.jsx)(_,{src:r,size:n})}var xt=Object(s.d)(Z)(U||(U=Object(u.a)(["\n\tbackground-color: ",";\n\twidth: 104px;\n\theight: 50px;\n\tdisplay: flex;\n\n\t","\n"])),(function(t){return t.theme.color.bg1}),(function(t){return t.active&&Object(s.c)(L||(L=Object(u.a)(["\n\t\twidth: ",";\n\t\tborder-width: 2px;\t\n\t\tborder-color: ",";\n\t"])),(function(t){return t.allowDeselect?"143px":"120px"}),(function(t){return t.selectedColor}))})),gt=s.d.div(q||(q=Object(u.a)(["\n\tdisplay: flex;\n\tbox-sizing: content-box;\n\theight: 100%;\n\tfloat: left;\n\topacity: 1;\n\twidth: 12px;\n\tpadding-left: 4px;\n\tpadding-right: 4px;\n\n\t","\n"])),(function(t){return t.hidden&&Object(s.c)(R||(R=Object(u.a)(["\n\t\topacity: 0;\t\n\t\twidth: 0;\n\t\tpadding: 0;\n\t"])))})),yt=s.d.div(I||(I=Object(u.a)(["\n\tbackground-color: ",";\t\n\twidth: 12px;\n\theight: 12px;\n\tborder-radius: 6px;\n\tmargin: auto;\n"])),(function(t){return t.selectedColor})),wt=s.d.div(N||(N=Object(u.a)(["\n\tpadding-left: 5px;\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: center;\n\theight: 100%;\n"]))),kt=s.d.div($||($=Object(u.a)(["\n\tdisplay: flex;\n\tbox-sizing: content-box;\n\tflex-direction: column;\n\twidth: 50px;\n\tpadding-left: 5px;\n"]))),St=s.d.div(J||(J=Object(u.a)(["\n\tdisplay: flex;\n\theight: 50%;\t\n\talign-items: flex-end;\n"]))),Tt=s.d.div(H||(H=Object(u.a)(["\n\theight: 50%;\n\ttext-align: left;\n"]))),Ct=s.d.img(K||(K=Object(u.a)(["\n\theight: 16px;\n\twidth: 16px;\n\tmargin: auto;\n"])));var Dt,Ft,At,Bt,zt,_t=function(t){var e=t.name,n=(t.imgSrc,t.value),r=t.color,o=t.selected,i=t.allowDeselect,c=t.onClick;return Object(b.jsxs)(xt,{selectedColor:r,active:o,onClick:c,allowDeselect:i,children:[Object(b.jsx)(gt,{hidden:!o,children:Object(b.jsx)(yt,{selectedColor:r})}),Object(b.jsx)(wt,{children:Object(b.jsx)(vt,{name:e})}),Object(b.jsxs)(kt,{children:[Object(b.jsx)(St,{children:Object(b.jsx)(x,{children:e})}),Object(b.jsx)(Tt,{children:Object(b.jsx)(g,{children:n})})]}),Object(b.jsx)(gt,{hidden:!o||!i,children:Object(b.jsx)(Ct,{src:Y})})]})};function Pt(){return ct.map((function(t,e){return{name:t.name,color:null,selectedPosition:null}}))}function Mt(t){var e=t.activeCoin,n=t.coinList,r=t.updateSelectedCoins,o=Object(c.useState)(lt.reverse()),i=Object(X.a)(o,2),a=i[0],l=i[1],u=Object(c.useState)(Pt()),s=Object(X.a)(u,2),d=s[0],j=s[1],f=Object(c.useRef)(!1),p=Object(c.useCallback)((function(){return d.reduce((function(t,e){return null!==e.selectedPosition?t+1:t}),0)}),[d]),m=Object(c.useCallback)((function(t){var e,r=a.slice(),o=JSON.parse(JSON.stringify(d)),i=lt.length,c=o[t].selectedPosition,u=n.filter((function(e){return e.name===d[t].name}))[0].allowDeselect,s=p();if(null===c)e=Math.min(s+1,i);else{if(!u||1===s)return;e=null}for(var b=0;b<o.length;b++){var f=o[b].selectedPosition;c&&f>c?o[b].selectedPosition=f-1:e===i&&f===i&&(o[b].selectedPosition=null,r.push(d[b].color),o[b].color=null)}o[t].selectedPosition=e,e?o[t].color=r.pop():(r.push(d[t].color),o[t].color=null),o.sort((function(t,e){return t.selectedPosition===e.selectedPosition?0:null===t.selectedPosition?1:null===e.selectedPosition?-1:t.selectedPosition-e.selectedPosition})),l(r),j(o)}),[a,d,p,n]);Object(c.useEffect)((function(){if(!f.current){var t=!0;n.forEach((function(e,n){e.allowDeselect||(m(n),t=!1)})),t&&m(0),f.current=!0}}),[m,n]),Object(c.useEffect)((function(){var t=d.filter((function(t){return null!==t.selectedPosition}));t=t.map((function(t){return{name:t.name,color:t.color}})),r(t)}),[d,r]),Object(c.useEffect)((function(){l(lt.reverse()),j(Pt()),f.current=!1}),[e,j]);var h=p(),O=d.map((function(t,e){var r=n.filter((function(e){return e.name===t.name}))[0],o=r.allowDeselect&&h>1;return Object(b.jsx)(_t,{name:t.name,color:t.color,selected:null!==t.selectedPosition,value:ft(r.value?r.value:0,"%"),onClick:function(){return m(e)},allowDeselect:o},e)}));return Object(b.jsx)(Lt,{children:O})}var Et,Wt,Ut=s.d.div(Dt||(Dt=Object(u.a)(["\n  \tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: nowrap;\n\twidth: ",";\n\theight: ",";\n  \tjustify-content: ",";\n  \talign-items: ",";\n  \tpadding: ",";\n  \tborder: ",";\n  \tborder-radius: ",";\t\n\tmargin: ",";\n\tcolumn-gap: ",";\n\trow-gap: ",";\n"])),(function(t){var e=t.width;return null!==e&&void 0!==e?e:"100%"}),(function(t){var e=t.height;return null!==e&&void 0!==e?e:"none"}),(function(t){var e=t.justify;return null!==e&&void 0!==e?e:"flex-start"}),(function(t){var e=t.align;return null!==e&&void 0!==e?e:"center"}),(function(t){var e=t.padding;return null!==e&&void 0!==e?e:"0"}),(function(t){return t.border}),(function(t){return t.borderRadius}),(function(t){var e=t.margin;return null!==e&&void 0!==e?e:"0"}),(function(t){var e=t.gap,n=t.theme;return null!==e&&void 0!==e?e:n.spacing.default}),(function(t){var e=t.gap,n=t.theme;return null!==e&&void 0!==e?e:n.spacing.default})),Lt=Object(s.d)(Ut)(Ft||(Ft=Object(u.a)(["\n\tflex-wrap: nowrap;\n\toverflow-x: scroll;\n\toverflow-y: hidden;\n\n\tscrollbar-width: none;\n\t&::-webkit-scrollbar {\n\t\tdisplay: none;\n\t}\n"]))),qt=Object(s.d)(Ut)(At||(At=Object(u.a)(["\n\tjustify-content: space-between;\n"]))),Rt=Object(s.d)(qt)(Bt||(Bt=Object(u.a)(["\n\t","\n"])),(function(t){return t.theme.mediaWidth.small(zt||(zt=Object(u.a)(["\n\t\tflex-direction: column;\n\t\trow-gap: 5px;\n\t"])))})),It=Ut,Nt=n.p+"static/media/compoundLogo.dfb35bbc.svg",$t=s.d.div(Et||(Et=Object(u.a)(["\n\tdisplay: flex;\n\tborder: solid ",";\n\tborder-radius: ",";\n\tbackground-color: ",";\n\twidth: ",";\n\tpadding: ",";\n\tmargin: 0;\n"])),(function(t){var e=t.theme;return e.border.thickness+" "+e.color.border1}),(function(t){return t.theme.border.radius}),(function(t){return t.theme.color.bg1}),(function(t){var e=t.width;return null!==e&&void 0!==e?e:"100%"}),(function(t){var e=t.padding,n=t.theme;return null!==e&&void 0!==e?e:n.spacing.roomy})),Jt=Object(s.d)($t)(Wt||(Wt=Object(u.a)(["\n\tflex-direction: column;\n"])));function Ht(t){var e=t.title,n=ft(t.value,t.unit);return Object(b.jsxs)(Jt,{children:[Object(b.jsx)(g,{children:null===e||void 0===e?void 0:e.toUpperCase()}),Object(b.jsx)(O,{children:n})]})}var Kt,Xt,Zt,Yt,Vt,Gt=$t,Qt=Object(s.d)(It)(Kt||(Kt=Object(u.a)(["\n\tflex-direction: column;\n"]))),te=Object(s.d)(qt)(Xt||(Xt=Object(u.a)(["\n\tpadding: 20px 0;\n"]))),ee=Object(s.d)(A.b)(Zt||(Zt=Object(u.a)(["\n\ttext-decoration: none;\t\t\n\tdisplay: flex;\n\twidth: 100%;\n\t:hover {\n    \tcursor: pointer;\n    \topacity: 0.7;\n  \t}\n"]))),ne=Object(s.d)(y)(Yt||(Yt=Object(u.a)(["\n\tdisplay: flex;\n\tflex-direction: row;\n\tjustify-content: ",";\n\talign-items: center;\n\twidth: 100%;\n"])),(function(t){return t.left?"flex-begin":"flex-end"})),re=s.d.div(Vt||(Vt=Object(u.a)(["\n\theight: ",";\n\tbackground-color: ",";\n\twidth: 100%;\n"])),(function(t){return t.theme.border.thickness}),(function(t){return t.theme.color.border1}));function oe(t){var e=t.rowData,n=t.keysAndUnits.map((function(t,n){return Object(b.jsx)(ne,{children:ft(e[t.key],t.unit)},n)}));return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(re,{}),Object(b.jsx)(ee,{to:"/"+e.name,children:Object(b.jsxs)(te,{children:[Object(b.jsxs)(ne,{left:!0,children:[Object(b.jsx)(vt,{name:e.name}),e.name]}),n]})})]})}function ie(t){var e=t.data,n=t.keysAndUnits,r=function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return t.sort((function(t,r){var o=t[e]>r[e]?1:-1;return n?o:-o}))}(e,"totalSupply",!1),o=n.map((function(t){return t.key})).map((function(t,e){return Object(b.jsx)(ne,{children:Object(b.jsx)(x,{children:Ot(t)})},e)})),i=r.map((function(t,e){return Object(b.jsx)(oe,{rowData:t,keysAndUnits:n},e)}));return Object(b.jsxs)(Qt,{children:[Object(b.jsxs)(te,{children:[Object(b.jsx)(ne,{left:!0,children:Object(b.jsx)(x,{children:"Asset"})}),o]}),i]})}var ce,ae=n(28),le=n.n(ae),ue=n(61),se=Object(c.createContext)();function de(t){var e=Object(c.useState)({}),n=Object(X.a)(e,2),r=n[0],o=n[1],i=Object(c.useCallback)((function(t,e){var n=Object.assign({},r);n[t]=e,o(n)}),[r]);return Object(b.jsx)(se.Provider,Object(d.a)({value:[r,{updateStore:i}]},t))}function be(){return Object(c.useContext)(se)}function je(){return fe.apply(this,arguments)}function fe(){return(fe=Object(ue.a)(le.a.mark((function t(){var e,n,r,o,i;return le.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=function(t,e){return t.includes(e)?-1:e.includes(t)?1:[t,e].sort()[0]===t?-1:1},console.log("fetching apy data"),e=dt,n=st,r={},i=ht().sort(o),t.next=8,Promise.all([["shortTerm",e],["longTerm",n]].map((function(t){var e=Object(X.a)(t,2),n=e[0],c=e[1];return fetch(c).then((function(t){return t.json()})).then((function(t){var e=Object.keys(t[0]).filter((function(t){return"BLOCK_TIME"!==t}));e.sort(o);var c=e.length+1;t=t.map((function(t){for(var n={blockTime:t.BLOCK_TIME,values:{borrow:{},supply:{},totalBorrow:{},totalSupply:{}}},r=0;r<c/4-1;r++)n.values.borrow[i[r]]=t[e[4*r]],n.values.supply[i[r]]=t[e[4*r+1]],n.values.totalBorrow[i[r]]=t[e[4*r+2]],n.values.totalSupply[i[r]]=t[e[4*r+3]];return n})),r[n]=t})).catch((function(t){return console.log(t)}))}))).catch((function(t){return console.log(t)}));case 8:return t.abrupt("return",r);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function pe(){return me.apply(this,arguments)}function me(){return(me=Object(ue.a)(le.a.mark((function t(){var e,n,r,o,i,c,a,l,u,s;return le.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("fetching summary data"),e=bt,n=ht(),r={addresses:[""],block_timestamp:0,meta:!0},t.next=6,fetch(e,{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(r)});case 6:if((o=t.sent).ok){t.next=13;break}return t.next=10,o.text();case 10:return i=t.sent,console.log("Error requesting summary Data:"+i),t.abrupt("return",{});case 13:return t.next=15,o.json();case 15:return c=t.sent,console.log(c),a=c.meta,c=c.cToken,l=c.filter((function(t){return"USDC"===t.underlying_symbol}))[0],u=1/parseFloat(l.underlying_price.value),s={totalSupply:0,totalBorrow:0,totalReserves:0,maxBorrow:0},c=(c=c.map((function(t){var e=parseFloat(t.underlying_price.value)*u,n=parseFloat(t.exchange_rate.value)*e,r={name:t.symbol.slice(1),cTokenAddress:t.token_address,underlyingAddress:t.underlying_address,underlyingPrice:e,numberOfSuppliers:t.number_of_suppliers,numberOfBorrowers:t.number_of_borrowers,totalSupply:parseFloat(t.total_supply.value)*n,totalBorrow:parseFloat(t.total_borrows.value)*e,totalReserves:parseFloat(t.reserves.value)*e,borrowCap:parseFloat(t.borrow_cap.value)*e,distributionSupplyApy:parseFloat(t.comp_supply_apy.value)/100,distributionBorrowApy:parseFloat(t.comp_borrow_apy.value)/100,collateralFactor:parseFloat(t.collateral_factor.value),reserveFactor:parseFloat(t.reserve_factor.value),supplyApy:parseFloat(t.supply_rate.value),borrowApy:parseFloat(t.borrow_rate.value)};return r.marketSize=r.totalSupply*r.collateralFactor,r.maxBorrow=r.borrowCap?Math.min(r.borrowCap,r.marketSize):r.marketSize,r.utilization=r.totalBorrow/r.maxBorrow,r.availableLiquidity=Math.max(0,r.maxBorrow-r.totalBorrow),r.totalValueLocked=r.totalSupply-r.totalBorrow,s.totalSupply+=r.totalSupply,s.totalBorrow+=r.totalBorrow,s.totalReserves+=r.totalReserves,s.maxBorrow+=r.maxBorrow,r}))).filter((function(t){return n.includes(t.name)})),s.numberOfUniqueSuppliers=a.unique_suppliers,s.numberOfUniqueBorrowers=a.unique_borrowers,s.utilization=s.totalBorrow/s.maxBorrow,c.ALL=s,t.abrupt("return",c);case 29:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function he(t,e){var n=be(),r=Object(X.a)(n,2),o=r[0],i=r[1].updateStore,a=Object(c.useState)(null),l=Object(X.a)(a,2),u=l[0],s=l[1],d="apyData",b=o[d];return Object(c.useEffect)((function(){function t(){return(t=Object(ue.a)(le.a.mark((function t(){var e;return le.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(b){t.next=5;break}return t.next=3,je();case 3:e=t.sent,i(d,e);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[b,i]),Object(c.useEffect)((function(){if(b){var n=function(t,e,n){if(!t)return null;var r=null!==n.days&&n.days<=8?t.shortTerm.slice():t.longTerm.slice(),o=new Date;return null===n.days?o=new Date(1700,1,1):o.setDate(o.getDate()-n.days),(r=r.map((function(t){return Object.assign(t.values[e.name.toLowerCase()],{blockTime:t.blockTime})}))).filter((function(t){return new Date(t.blockTime)>=o}))}(b,t,e);s(n)}}),[t,e,b,s]),u}function Oe(t){var e=be(),n=Object(X.a)(e,2),r=n[0],o=n[1].updateStore,i=Object(c.useState)(null),a=Object(X.a)(i,2),l=a[0],u=a[1],s="summaryData",d=r[s];return Object(c.useEffect)((function(){function t(){return(t=Object(ue.a)(le.a.mark((function t(){var e;return le.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(d){t.next=5;break}return t.next=3,pe();case 3:e=t.sent,o(s,e);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[d,o]),Object(c.useEffect)((function(){if(d){var e=function(t,e){var n=t;return e&&(n=t.filter((function(t){return t.name===e}))[0]),n}(d,t);u(e)}}),[t,d]),l}var ve=Object(s.d)(Gt)(ce||(ce=Object(u.a)(["\n\tpadding: 0 ",";\n"])),(function(t){return t.theme.spacing.roomy})),xe=[{key:"totalSupply",unit:"$"},{key:"supplyApy",unit:"%"},{key:"totalBorrow",unit:"$"},{key:"borrowApy",unit:"%"}];function ge(){var t=Object(s.e)().spacing.card,e=Oe();if(!e)return null;var n=e.ALL;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)(It,{height:"40px",margin:"20px 0",children:[Object(b.jsx)(_,{src:Nt,size:"40px"}),Object(b.jsx)(h,{children:"Compound Protocol"})]}),Object(b.jsx)(M,{title:"Compound Overview"}),Object(b.jsxs)(Rt,{gap:t,children:[Object(b.jsx)(Ht,{title:"Total supplied",value:n.totalSupply,unit:"$"}),Object(b.jsx)(Ht,{title:"Total unique active users",value:n.numberOfUniqueSuppliers})]}),Object(b.jsxs)(Rt,{gap:t,children:[Object(b.jsx)(Ht,{title:"Total reserves",value:n.totalReserves,unit:"$"}),Object(b.jsx)(Ht,{title:"Utilization",value:n.utilization,unit:"%"}),Object(b.jsx)(Ht,{title:"Total borrowed",value:n.totalBorrow,unit:"$"})]}),Object(b.jsx)(M,{title:"All Markets"}),Object(b.jsx)(ve,{children:Object(b.jsx)(ie,{data:e,keysAndUnits:xe})}),"TODO: media query the keys to change what is shown in table based on screen size"]})}var ye,we,ke=n(20),Se=n(178),Te=n(332),Ce=n(333),De=n(175),Fe=n(176),Ae=n(80),Be={stroke:"gray",strokeWidth:2,strokeDasharray:"5,5"},ze={r:5,strokeWidth:0},_e=s.d.div(ye||(ye=Object(u.a)(["\n\tbackground-color: red;\n\ttext-align: center;\n\tpadding: 5px 0;\n\twidth: ","px;\n\tborder: solid ",";\n\tborder-radius: ",";\n\tbackground-color: ",";\n\ttransform: translate(","px);\n"])),(function(t){return t.toolTipWidth}),(function(t){var e=t.theme;return e.border.thickness+" "+e.color.border1}),(function(t){return t.theme.border.radius}),(function(t){return t.theme.color.bg1}),(function(t){return t.translationX}));function Pe(t){var e,n=t.coordinate,r=t.toolTipWidth,o=t.viewBox,i=t.setHoverDate,a=t.showTime,l=t.payload,u=l?null===(e=l[0])||void 0===e?void 0:e.payload.blockTime:null;if(Object(c.useEffect)((function(){i(u)}),[u,i]),u){var s=jt(new Date(u),a),d=n.x+r/2,j=o.width+o.left,f=d>j?j-d:0;return Object(b.jsx)(_e,{toolTipWidth:r,translationX:f,children:Object(b.jsx)(g,{children:s})})}return null}function Me(t){var e=t.x,n=t.y,r=t.payload,o=t.showTime,i=t.fill,c=jt(new Date(r.value),o);return Object(b.jsx)("text",{fill:i,x:e,y:n+15,textAnchor:"middle",children:c})}function Ee(t){var e=t.data,n=t.selectedCoinsAndColors,r=t.setHoverDate,o=Object(s.e)();var i=n.map((function(t,e){return Object(b.jsx)(Se.a,{type:"monotone",dataKey:t.name,stroke:t.color,strokeWidth:2,dot:!1,activeDot:ze,isAnimationActive:!1},e)})),c=function(){if(!e)return!1;var t=new Date(e.slice(-1)[0].blockTime),n=new Date(e[0].blockTime);return(t.getTime()-n.getTime())/864e5<8}(),a=c?150:90,l=-a/2;return Object(b.jsx)(Te.a,{width:"100%",height:300,children:Object(b.jsxs)(Ce.a,{margin:{right:20,left:0,top:0,bottom:0},data:e,children:[i,Object(b.jsx)(De.a,{dataKey:"blockTime",tick:Object(b.jsx)(Me,{fill:o.color.secondary1,showTime:c}),tickCount:3}),Object(b.jsx)(Fe.a,{datekey:"price",padding:{top:30},orientation:"left",tick:{fill:o.color.secondary1},tickFormatter:function(t){return 100*t}}),Object(b.jsx)(Ae.a,{cursor:Be,position:{y:0},content:Object(b.jsx)(Pe,{toolTipWidth:a,setHoverDate:r,showTime:c}),isAnimationActive:!1,offset:l})]})})}var We,Ue,Le=s.d.div(we||(we=Object(u.a)(["\n\twidth: 100%;\n\tdisplay: flex;\n\tflex-direction: column;\n\trow-gap: ",";\n"])),(function(t){return t.theme.spacing.default}));function qe(){return ct.map((function(t){return{name:t.name,value:0}}))}function Re(t){var e=t.activeCoin,n=t.dataSelectors,r=t.useData,o=Object(c.useState)(n[0]),i=Object(X.a)(o,2),a=i[0],l=i[1],u=Object(c.useState)(at.slice(-1)[0]),s=Object(X.a)(u,2),d=s[0],j=s[1],f=Object(c.useState)([]),p=Object(X.a)(f,2),m=p[0],h=p[1],O=Object(c.useState)(0),v=Object(X.a)(O,2),x=v[0],y=v[1],w=Object(c.useState)(qe()),k=Object(X.a)(w,2),S=k[0],T=k[1],C=r(a,d);Object(c.useEffect)((function(){var t=null===C||void 0===C?void 0:C.slice(-1)[0],e=null===C||void 0===C?void 0:C.filter((function(t){return t.blockTime===x}))[0];if(t){var n=qe();n=n.map((function(n){var r,o=n.name;n.value;return r=1===m.filter((function(t){return t.name===o})).length&&x&&e?e[o]:t[o],{name:o,value:r}})),T(n)}}),[m,x,C]);var D=Object(c.useCallback)((function(t){h(t)}),[]),F=Object(c.useMemo)((function(){return n.map((function(t,e){return Object(b.jsx)(Z,{active:a===t,onClick:function(){return l(t)},children:Object(b.jsx)(g,{children:t.name})},e)}))}),[a,n,l]),A=Object(c.useMemo)((function(){return at.map((function(t,e){return Object(b.jsx)(Z,{active:d===t,onClick:function(){return j(t)},children:Object(b.jsx)(g,{children:t.name})},e)}))}),[d,j]),B=ct.map((function(t){var n=S.filter((function(e){return e.name===t.name}))[0].value;return{name:t.name,value:n,allowDeselect:t.name!==(null===e||void 0===e?void 0:e.name)}}));return Object(b.jsxs)(Le,{children:[Object(b.jsxs)(Rt,{children:[Object(b.jsx)(It,{children:F}),Object(b.jsx)(It,{justify:"flex-end",children:A})]}),Object(b.jsx)(Ee,{data:C,selectedCoinsAndColors:m,setHoverDate:function(t){return y(t)}}),"Compare to:",Object(b.jsx)(Mt,{activeCoin:e,coinList:B,updateSelectedCoins:D})]})}function Ie(t){var e=t.match,n=Object(s.e)().spacing.card,r=e.params.coin,o=pt(r),i=Oe(r);if(!o)return Object(b.jsx)(ke.a,{to:"/"});if(!i)return null;var c="https://etherscan.io/token/"+i.cTokenAddress;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(It,{children:Object(b.jsxs)(x,{children:[Object(b.jsx)(B,{to:"/",children:"Market "})," > ",Object(b.jsxs)(z,{href:c,children:["c",o.name," (",mt(i.cTokenAddress),")"]})]})}),Object(b.jsxs)(It,{height:"40px",margin:"20px 0",children:[Object(b.jsx)(vt,{name:r,size:"40px"}),Object(b.jsx)(h,{children:o.name})]}),Object(b.jsx)(M,{title:"Market Overview"}),Object(b.jsxs)(Rt,{gap:n,children:[Object(b.jsx)(Ht,{title:"Total supplied",value:i.totalSupply,unit:"$"}),Object(b.jsx)(Ht,{title:"Utilization",value:i.utilization,unit:"%"}),Object(b.jsx)(Ht,{title:"Reserves",value:i.totalReserves,unit:"$"})]}),Object(b.jsx)(M,{title:"APY Performence"}),Object(b.jsx)(Gt,{children:Object(b.jsx)(Re,{dataSelectors:ut,activeCoin:o,useData:he})}),Object(b.jsx)(M,{title:"Key Statistics"}),Object(b.jsxs)(Rt,{gap:n,children:[Object(b.jsx)(Ht,{title:"Token price",value:i.underlyingPrice,unit:"$"}),Object(b.jsx)(Ht,{title:"Reserve factor",value:i.reserveFactor,unit:"%"}),Object(b.jsx)(Ht,{title:"Number of suppliers",value:i.numberOfSuppliers}),Object(b.jsx)(Ht,{title:"Number of borrowers",value:i.numberOfBorrowers})]}),Object(b.jsxs)(Rt,{gap:n,children:[Object(b.jsx)(Ht,{title:"Collateral factor",value:i.collateralFactor,unit:"%"}),Object(b.jsx)(Ht,{title:"Total borrow",value:i.totalBorrow,unit:"$"}),Object(b.jsx)(Ht,{title:"Borrow cap",value:i.borrowCap?i.borrowCap:"No limit"}),Object(b.jsx)(Ht,{title:"Available liquidity",value:i.availableLiquidity,unit:"$"})]}),Object(b.jsx)(M,{title:"Utilization"}),"TODO: utilization chart, supply amount, borrow amount, and utilization over time",Object(b.jsx)(M,{title:"Dicvoer More"}),"TODO: cards of the other markets, click on it and it will swap to others"]})}var Ne=s.d.div(We||(We=Object(u.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tjustify-content: center;\n\twidth: 100%;\n\tpadding: 40px;\n\tcolumn-gap: ",";\n\trow-gap: ",";\n\t\n\t> * {\n\t\tmax-width: 1200px;\n  \t}\n\n\t","\n"])),(function(t){return t.theme.spacing.card}),(function(t){return t.theme.spacing.card}),(function(t){return t.theme.mediaWidth.small(Ue||(Ue=Object(u.a)(["\n\t\tpadding: 40px 15px;\n\t"])))}));var $e=function(){return Object(b.jsx)(A.a,{children:Object(b.jsx)(Ne,{children:Object(b.jsxs)(ke.d,{children:[Object(b.jsx)(ke.b,{exact:!0,strict:!0,path:"/",component:ge}),Object(b.jsx)(ke.b,{exact:!0,strict:!0,path:"/:coin",component:Ie})]})})})};l.a.render(Object(b.jsx)(c.StrictMode,{children:Object(b.jsx)(de,{children:Object(b.jsxs)(w,{darkMode:!0,children:[Object(b.jsx)(F,{}),Object(b.jsx)($e,{})]})})}),document.getElementById("root"))}},[[327,1,2]]]);
//# sourceMappingURL=main.88764903.chunk.js.map